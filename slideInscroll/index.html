<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Slide In on Scroll</h1>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum, rem et cum quibusdam nostrum praesentium delectus dolorem, 
            sed corporis vitae dolorum nesciunt nobis! Cum, voluptatum? Placeat facere voluptates accusamus neque?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p><p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <img src="img/c63s.jpg" alt="Test" class="align-left slide-in">
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quasi, similique unde. 
            Eligendi nisi quisquam esse eum debitis, ab natus. Sint earum omnis eligendi tenetur fuga cumque iure iste laboriosam perferendis.
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Itaque, cupiditate sunt quod debitis enim nesciunt illo veniam voluptatibus suscipit qui incidunt quibusdam beatae, 
            laborum ipsam veritatis sequi optio iure exercitationem.
        </p>
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quasi, similique unde. 
            Eligendi nisi quisquam esse eum debitis, ab natus. Sint earum omnis eligendi tenetur fuga cumque iure iste laboriosam perferendis.
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Itaque, cupiditate sunt quod debitis enim nesciunt illo veniam voluptatibus suscipit qui incidunt quibusdam beatae, 
            laborum ipsam veritatis sequi optio iure exercitationem.
        </p>
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quasi, similique unde. 
            Eligendi nisi quisquam esse eum debitis, ab natus. Sint earum omnis eligendi tenetur fuga cumque iure iste laboriosam perferendis.
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Itaque, cupiditate sunt quod debitis enim nesciunt illo veniam voluptatibus suscipit qui incidunt quibusdam beatae, 
            laborum ipsam veritatis sequi optio iure exercitationem.
        </p>
        <img src="img/c63s.jpg" alt="Voiture" class="align-right slide-in">
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quasi, similique unde. 
            Eligendi nisi quisquam esse eum debitis, ab natus. Sint earum omnis eligendi tenetur fuga cumque iure iste laboriosam perferendis.
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Itaque, cupiditate sunt quod debitis enim nesciunt illo veniam voluptatibus suscipit qui incidunt quibusdam beatae, 
            laborum ipsam veritatis sequi optio iure exercitationem.
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p><p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sapiente natus blanditiis odio labore, 
            voluptate soluta praesentium est odit voluptatibus officiis officia quod obcaecati quaerat laborum, 
            possimus laudantium quia? Dolores, reiciendis?
        </p>
    </div>
    <script>
        // la fonction debounce permet de mieux controler le temps lorsqu'on scroll
        function debounce(func, wait = 20, immediate = true) {
          var timeout;
          return function() {
            var context = this, args = arguments;
            var later = function() {
              timeout = null;
              if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
	      };
        };



      const sliderImages = document.querySelectorAll('.slide-in');

      function checkSlide(e) {
          sliderImages.forEach(sliderImage => {
            // Ã  mis chemin de l'image
            const slideInAt = (window.scrollY + window.innerHeight) - sliderImage.height / 2;
            console.log(slideInAt);
            // bottom de l'image
            const imageBottom = sliderImage.offsetTop + sliderImage.height;
            const isHalfShown = slideInAt > sliderImage.offsetTop;
            const isNotScrolledPast = window.scrollY < imageBottom;
            if(isHalfShown && isNotScrolledPast) {
                sliderImage.classList.add('active');
            } else {
                sliderImage.classList.remove('active'); 
            }   
          });
      }
      window.addEventListener('scroll', debounce(checkSlide));
    </script>
</body>
</html>