<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array</title>
</head>
<body>
    <script>
        const inventors = [
            { first: 'Albert',   last: 'Einstein',    year: 1879,    passed: 1955 },
            { first: 'Isaac',    last: 'Newton',      year: 1643,    passed: 1727 },
            { first: 'Galileo',  last: 'Galilei',     year: 1564,    passed: 1642 },
            { first: 'Marie',    last: 'Curie',       year: 1867,    passed: 1934 },
            { first: 'Johannes', last: 'Kepler',      year: 1571,    passed: 1630 },
            { first: 'Nicolaus', last: 'Copernicus',  year: 1473,    passed: 1543 },
            { first: 'Max',      last: 'Planck',      year: 1858,    passed: 1947 },
        ];
        const people = ['Test, Bertrand', 'Jean, Michel', 'Conds, Sam', 'Naza, Arko', 'Imer, Marrg', 'Imad, Ymad', 'Dubois, Iop', 'Duchateau, Michel'];


            //On va parler voir les fondamentales en JS les array :
            
            // Array.prototype.filter() : créer et retourne un nouveau tableau contenant tous les éléments du tableau d'origine qui remplissent une condition déterminée par la fonction callback.
            // 1. Filter la liste des inventeurs pour ceux nés dans les années 1500.
                const fifteen = inventors.filter(inventor => (inventor.year >= 1500 && inventor.year < 1600)); // ou filter(function(inventor) ou (inventor =>
                console.table(fifteen);
                /*
                    const fifteen = inventors.filter(inventor => { // ou filter(function(inventor) 
                    if(inventor.year >= 1500 && inventor.year < 1600) {
                        return true;
                    }
                    });

                */


            // Array.prototype.map() : map creé un nouveau tableau avec les resultat de l'appel d'une fonction.
            // 2. Donnez nous un tableau du prenom et nom des inventeurs   
                const names = inventors.map(inventor => inventor.first + ' ' + inventor.last);
                console.table(names); 
                /*
                    const names = inventors.map(function(inventor) {
                    return inventor.first + ' ' + inventor.last;
                    });
                    console.table(names); 

                */


            // Array.prototype.sort() : sort() trie les éléments d'un tableau, dans ce même tableau, et renvoie le tableau.
            // 3. Trier les inventeurs par leur date de naissance, du plus âgé au plus jeune.
                    const birthdays = inventors.sort((a, b) => a.year > b.year ? 1 : -1); // if is true return 1 sinon -1
                    console.table(birthdays);
                    /*
                        const birthdays = inventors.sort(function (a, b) {
                        if(a.year > b.year) {
                            return 1;
                        }
                        else {
                            return -1;
                        }
                        });
                        console.table(birthdays);
                    */


            // Array.prototype.reduce() : reduce() applique une fonction qui est un «accumulateur» et qui traite chaque valeur d'une liste (gauche vers droite) afin de la réduire à une seule valeur.
            // 4. Combien d'années les inventeurs ont-ils vecu ?
                    const totalYears = inventors.reduce((total, inventor) => {
                        return total + (inventor.passed - inventor.year);
                    }, 0);
                    console.log(totalYears);


            // 5. Trier les inveteurs par leurs années vécus.
                    const oldest = inventors.sort(function (a,b) {
                        const lastGuy = a.passed - a.year;
                        const nextGuy = b.passed - b.year;
                        return lastGuy > nextGuy ? -1 : 1;
                        // if(lastGuy > nextGuy) {
                        //     return 1;
                        // }
                        // else {
                        //     return -1;
                        // }
                    });
                    console.table(oldest);


            // 6. Create une liste de boulevard de Paris qui contient 'de' n'importe ou dans le nom
            // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
                    // const category = document.querySelector('.mw-category'); // mw-category est la classe de la div sur le site wikipedia
                    // const links = Array.from(category.querySelectorAll('a')); 
                    // const de = links
                    //             .map(link => link.textContent)
                    //             .filter(streetName => streetName.includes('de'));


            // 7. Trier "people" alphabetiquement par le nom de famille
                const alpha =  people.sort(function (lastOne, nextOne) {
                    const [aLast, aFirst] = lastOne.split(', ');
                    const [bLast, bFirst] = nextOne.split(', ');
                    return aLast > bLast ? 1 : -1;
                    
                });
                console.log(alpha);



            // 8.

                const plus = inventors.sort((plusGrand, plusPetit) => plusGrand.first < plusPetit.first ? 1 : -1);
                console.table(plus);
    </script>
</body>
</html>